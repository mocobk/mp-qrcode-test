(function(e){function t(t){for(var r,s,i=t[0],l=t[1],p=t[2],u=0,d=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&d.push(o[s][0]),o[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);c&&c(t);while(d.length)d.shift()();return n.push.apply(n,p||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,i=1;i<a.length;i++){var l=a[i];0!==o[l]&&(r=!1)}r&&(n.splice(t--,1),e=s(s.s=a[0]))}return e}var r={},o={app:0},n=[];function s(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=r,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/mp-qrcode-test/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var p=0;p<i.length;p++)t(i[p]);var c=l;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"06a3":function(e,t,a){e.exports=a.p+"static/img/mp-logo.ad7c40cd.jpg"},4824:function(e,t,a){"use strict";var r=a("9329"),o=a.n(r);o.a},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container"},[e.hiddenTips?e._e():a("el-alert",{attrs:{title:e.tips,type:"info","close-text":"知道了"},on:{close:e.handleCloseAlert}}),a("div",{staticClass:"content"},[a("el-form",{ref:"MpForm",attrs:{model:e.form,"label-width":"80px",rules:e.rules}},[a("el-form-item",{attrs:{label:"AppID",prop:"appId"}},[a("el-input",{attrs:{placeholder:"请输入你的小程序 AppID",clearable:""},model:{value:e.form.appId,callback:function(t){e.$set(e.form,"appId",t)},expression:"form.appId"}})],1),a("el-form-item",{attrs:{label:"启动页面",prop:"page"}},[a("el-autocomplete",{attrs:{"popper-class":"my-autocomplete","fetch-suggestions":e.handleSuggestion(e.suggestion.page),placeholder:e.placeholder.page,clearable:""},on:{select:e.handleSelectPage},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item;return[a("div",{staticClass:"description"},[e._v(e._s(r.description))]),a("span",{staticClass:"value"},[e._v(e._s(r.value))])]}}]),model:{value:e.form.page,callback:function(t){e.$set(e.form,"page",t)},expression:"form.page"}})],1),a("el-form-item",{attrs:{label:"接口类型"}},[a("el-radio-group",{on:{change:e.handleChangeRadio},model:{value:e.form.apiType,callback:function(t){e.$set(e.form,"apiType",t)},expression:"form.apiType"}},[a("el-radio",{attrs:{label:"A"}},[e._v("A接口")]),a("el-radio",{attrs:{label:"B"}},[e._v("B接口(参数都放在scene字段)")])],1)],1),a("el-form-item",{attrs:{label:"页面参数"}},[a("el-autocomplete",{attrs:{"popper-class":"my-autocomplete","fetch-suggestions":e.handleSuggestion(e.suggestion.params),placeholder:e.placeholder.params,clearable:""},on:{select:e.handleSelectParam},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item;return[a("div",{staticClass:"description"},[e._v(e._s(r.description))]),a("span",{staticClass:"value"},[e._v(e._s(r.value))])]}}]),model:{value:e.form.params,callback:function(t){e.$set(e.form,"params",t)},expression:"form.params"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleClickBtn}},[e._v("生成二维码")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleCopyQrCodeLink}},[e._v("复制当前二维码链接")])],1)],1),a("div",{staticClass:"qrcode"},[a("vue-qr",{attrs:{text:e.qrCode.url,correctLevel:3,size:250,colorDark:"#303133",colorLight:"white",logoSrc:e.qrCode.logo,logoScale:.2,logoCornerRadius:22.5,logoMargin:5}}),a("div",{staticClass:"qrcode-info"},[a("div",[e._v(e._s(e.resultText.join("")))]),a("div",[e._v("update time: "+e._s(e.qrCode.curTime))])])],1)],1)],1)])},n=[],s=(a("99af"),a("4de4"),a("c975"),a("a15b"),a("fb6a"),a("45fc"),a("498a"),a("2909")),i=a("658f"),l=a.n(i);a("d81d"),a("ac1f"),a("5319");function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YY-MM-DD hh:mm:ss",a=new Date(e),r=a.getFullYear(),o=a.getMonth()+1,n=a.getDate(),s=a.getHours(),i=a.getMinutes(),l=a.getSeconds(),p=Array.apply(null,Array(10)).map((function(e,t){return"0"+t})),c=t.replace(/YY/g,r).replace(/MM/g,p[o]||o).replace(/DD/g,p[n]||n).replace(/hh/g,p[s]||s).replace(/mm/g,p[i]||i).replace(/ss/g,p[l]||l);return c}var c={name:"App",components:{vueQr:l.a},data:function(){return{tips:"这里仅做模拟带参数的入口（如小程序码、卡片、公众号跳转）在体验版上的跳转，场景值为 1017，跟实际可能会有差别，仅做测试用",hiddenTips:!1,form:{appId:"",page:"",apiType:"A",params:""},suggestion:{page:[{value:"pages/index/index",description:"首页"}],params:[{value:"name=mocobk&age=18",description:"示例参数1"}]},rules:{appId:[{required:!0,message:"请输入AppID",trigger:"change"}],page:[{required:!0,message:"请输入页面路径",trigger:"change"}]},placeholder:{page:"输入页面路径: pages/index/main",params:"输入页面参数: name=mocobk&from=wechat"},qrCode:{url:"pages/index/main",logo:a("06a3"),curTime:p((new Date).getTime())}}},created:function(){this.hiddenTips=window.localStorage.getItem("hiddenTips");var e=window.localStorage.getItem("pageHistory");this.suggestion.page=e?JSON.parse(e):this.suggestion.page},computed:{resultText:function(){var e="B"===this.form.apiType?"scene=".concat(encodeURIComponent(this.form.params)):this.form.params,t=this.form.params.trim()?"?":"";return[this.form.page,t,e]}},methods:{handleChangeRadio:function(e){this.placeholder.params="B"===e?"输入页面参数: 1075117544081326080,OPERATION":"输入页面参数: name=mocobk&from=wechat"},handleSuggestion:function(e){var t=this;return function(a,r){var o=a?e.filter(t.createFilter(a)):e;r(o)}},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}},handleSelectPage:function(e){e.type&&(this.form.apiType=e.type),e.params&&(this.form.params=e.params)},handleSelectParam:function(e){e.type&&(this.form.apiType=e.type)},handleClickBtn:function(){var e=this;this.$refs["MpForm"].validate((function(t){if(t){var a=[e.resultText[0],".html"].concat(Object(s["a"])(e.resultText.slice(1))).join("");e.qrCode.url="https://open.weixin.qq.com/sns/getexpappinfo?appid=".concat(e.form.appId,"&path=").concat(encodeURIComponent(a)),e.qrCode.curTime=p((new Date).getTime()),e.$message.success("二维码创建成功");var r={description:e.resultText.join(""),value:e.form.page,type:e.form.apiType,params:e.form.params},o=e.suggestion.page.some((function(t){return t.value===e.form.page&&t.type===e.form.apiType&&t.params===e.form.params}));o||(e.suggestion.page=[r].concat(Object(s["a"])(e.suggestion.page)).slice(0,8),window.localStorage.setItem("pageHistory",JSON.stringify(e.suggestion.page)))}}))},handleCopyQrCodeLink:function(){var e=this;this.$copyText(this.qrCode.url).then((function(){e.$message.success("链接复制成功，可在手机、PC微信上粘贴打开")}),(function(t){e.$message.error("链接复制失败"),console.error(t)}))},handleCloseAlert:function(){window.localStorage.setItem("hiddenTips","true")}}},u=c,d=(a("5c0b"),a("4824"),a("2877")),f=Object(d["a"])(u,o,n,!1,null,"32a14ce4",null),m=f.exports,g=a("5c96"),h=a.n(g),v=(a("0fae"),a("4eb5")),y=a.n(v);r["default"].config.productionTip=!1,y.a.config.autoSetContainer=!0,r["default"].use(y.a),r["default"].use(h.a,{size:"small"}),new r["default"]({render:function(e){return e(m)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var r=a("9c0c"),o=a.n(r);o.a},9329:function(e,t,a){},"9c0c":function(e,t,a){}});